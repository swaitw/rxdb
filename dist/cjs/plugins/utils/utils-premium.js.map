{"version":3,"file":"utils-premium.js","names":["_utilsGlobal","require","_utilsHash","_utilsPromise","PREMIUM_FLAG_HASH","exports","NON_PREMIUM_COLLECTION_LIMIT","hasPremiumPromise","PROMISE_RESOLVE_FALSE","premiumChecked","hasPremiumFlag","RXDB_UTILS_GLOBAL","premium","defaultHashSha256"],"sources":["../../../../src/plugins/utils/utils-premium.ts"],"sourcesContent":["import { RXDB_UTILS_GLOBAL } from './utils-global.ts';\nimport { defaultHashSha256 } from './utils-hash.ts';\nimport { PROMISE_RESOLVE_FALSE } from './utils-promise.ts';\n\nexport const PREMIUM_FLAG_HASH = '6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93';\nexport const NON_PREMIUM_COLLECTION_LIMIT = 16;\n\nlet hasPremiumPromise: Promise<boolean> = PROMISE_RESOLVE_FALSE;\nlet premiumChecked = false;\n\n/**\n * Here we check if the premium flag has been set.\n * This code exists in the open source version of RxDB.\n * Yes you are allowed to fork the repo and just overwrite this function.\n * However you might better spend this time developing your real project\n * and supporting the RxDB efforts by buying premium.\n */\nexport async function hasPremiumFlag() {\n    if (premiumChecked) {\n        return hasPremiumPromise;\n    }\n    premiumChecked = true;\n\n    hasPremiumPromise = (async () => {\n        if (\n            RXDB_UTILS_GLOBAL.premium &&\n            typeof RXDB_UTILS_GLOBAL.premium === 'string' &&\n            (await defaultHashSha256(RXDB_UTILS_GLOBAL.premium) === PREMIUM_FLAG_HASH)\n        ) {\n            return true;\n        } else {\n            return false;\n        }\n    })();\n\n    return hasPremiumPromise;\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AACA,IAAAC,UAAA,GAAAD,OAAA;AACA,IAAAE,aAAA,GAAAF,OAAA;AAEO,IAAMG,iBAAiB,GAAAC,OAAA,CAAAD,iBAAA,GAAG,kEAAkE;AAC5F,IAAME,4BAA4B,GAAAD,OAAA,CAAAC,4BAAA,GAAG,EAAE;AAE9C,IAAIC,iBAAmC,GAAGC,mCAAqB;AAC/D,IAAIC,cAAc,GAAG,KAAK;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACO,eAAeC,cAAcA,CAAA,EAAG;EACnC,IAAID,cAAc,EAAE;IAChB,OAAOF,iBAAiB;EAC5B;EACAE,cAAc,GAAG,IAAI;EAErBF,iBAAiB,GAAG,CAAC,YAAY;IAC7B,IACII,8BAAiB,CAACC,OAAO,IACzB,OAAOD,8BAAiB,CAACC,OAAO,KAAK,QAAQ,IAC5C,OAAM,IAAAC,4BAAiB,EAACF,8BAAiB,CAACC,OAAO,CAAC,MAAKR,iBAAkB,EAC5E;MACE,OAAO,IAAI;IACf,CAAC,MAAM;MACH,OAAO,KAAK;IAChB;EACJ,CAAC,EAAE,CAAC;EAEJ,OAAOG,iBAAiB;AAC5B","ignoreList":[]}